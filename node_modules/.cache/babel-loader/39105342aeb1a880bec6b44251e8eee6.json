{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\emili\\\\Desktop\\\\proyecto car clean 01 09 2021\\\\proyecto\\\\src\\\\components\\\\Agenda\\\\ListarAgenda.js\";\nimport React, { Component } from 'react';\nimport * as ReactBoostrap from 'react-bootstrap';\nimport axios from 'axios';\nimport { url } from '../API.js';\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class ListarAgenda extends Component {\n  constructor() {\n    super();\n\n    this.onChangeDescription = e => {\n      console.log(e.target.value);\n      this.setState({\n        description: e.target.value\n      });\n    };\n\n    this.verTareas = serId => {\n      console.log(serId);\n      axios.post(url + '/tareaAgendada/listasTareasServicio/?id=' + serId).then(resp => {\n        console.log(resp.data);\n        this.setState({\n          tareas: resp.data,\n          estaCliqueado: true,\n          idServicio: serId\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.iniciarAlServicio = e => {\n      console.log(this.state.idServicio);\n      axios.post(url + '/servicioAgendado/iniciarServicioAgendado/?id=' + this.state.idServicio).then(resp => {\n        console.log(resp.data);\n\n        if (resp.status === 200) {\n          this.componentDidMount();\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.finalizarAlServicio = e => {\n      console.log(this.state.idServicio);\n      axios.post(url + '/servicioAgendado/finalizarServicioAgendado/?id=' + this.state.idServicio).then(resp => {\n        console.log(resp.data);\n\n        if (resp.status === 200) {\n          this.componentDidMount();\n          this.verTareas(this.state.idServicio);\n          this.finalizarNotificacion();\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.iniciarTarea = tarId => {\n      console.log(tarId);\n      axios.post(url + '/tareaAgendada/iniciarTarea/?id=' + tarId).then(resp => {\n        console.log(resp);\n\n        if (resp.status === 200) {\n          this.setState({\n            estaInciado: true,\n            //boolean esta iniciado\n            btnIniciar: true,\n            btnFinalizar: false\n          });\n          this.verTareas(this.state.idServicio);\n          this.iniciarAlServicio();\n          this.iniciarNotificacion(); //al iniciar la tarea cambiar el estado al servicio a que esta en proceso\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.finalizarTarea = tarId => {\n      console.log(tarId);\n      axios.post(url + '/tareaAgendada/finalizarTarea/?id=' + tarId).then(resp => {\n        console.log(resp.data);\n        this.setState({\n          estaInciado: false,\n          btnFinalizar: true //boolean esta finalizado\n          //y respuesta con la notificacion creada\n          //cambiar el estado en finalizado al servicioagendado\n\n        });\n        this.verTareas(this.state.idServicio);\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.iniciarNotificacion = () => {\n      console.log(localStorage.getItem('usuario'));\n      console.log(this.state.idServicio);\n      axios.post(url + '/notificacion/iniciarNotificacion/?idUsu=' + localStorage.getItem('usuario') + \"&idSerAge=\" + this.state.idServicio).then(resp => {\n        console.log(resp.data);\n        this.setState({});\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.finalizarNotificacion = () => {\n      axios.post(url + '/notificacion/finalizarNotificacion/?idUsu=' + localStorage.getItem('usuario') + \"&idSerAge=\" + this.state.idServicio + \"&descripcion=\" + this.state.description).then(resp => {\n        console.log(resp.data);\n        this.setState({});\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.componentDidMount = () => {\n      axios.get(url + '/servicioAgendado/listarActivos').then(resp => {\n        console.log(resp.data);\n        this.setState({\n          serviciosAgendados: resp.data\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n      console.log(localStorage.getItem(\"usuario\"));\n      let id = localStorage.getItem(\"usuario\");\n      axios.get(url + '/usuario/buscarPorId/?id=' + 10).then(resp => {\n        this.setState({\n          usuario: resp.data\n        });\n      }).catch(error => {\n        this.setState({\n          mensaje: error.response,\n          mensajeError: \"error\"\n        });\n        console.log(error.response.data.message);\n      });\n    };\n\n    this.manejadorOnChange = e => {\n      this.setState({\n        searchTerm: e.target.value\n      });\n    };\n\n    this.state = {\n      serviciosAgendados: [],\n      log: \"\",\n      mensaje: \"\",\n      date: new Date(),\n      tareas: [],\n      estaCliqueado: false,\n      estaIniciado: false,\n      notificacion: {},\n      idServicio: \"\",\n      description: \"\",\n      idCli: 1,\n      searchTerm: \"\",\n      usuario: [],\n      fechaVacia: \"VACIA\",\n      btnIniciar: false,\n      //verdadero esta deshabilitado y falso esta habilitado\n      btnFinalizar: true\n    };\n    this.verTareas.bind();\n  }\n\n  btnIniciar(id) {\n    const val = id; //retornar un booleano\n\n    return val;\n  }\n\n  btnFinalizar(id) {\n    const val = id; //retornar un booleano\n\n    return val;\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Lista Agenda\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Buscar por estado nombre\",\n        onChange: this.manejadorOnChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ReactBoostrap.Table, {\n        className: \"table \",\n        hover: true,\n        variant: \"light-dark\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Id\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Estado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Fecha Elegida\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Fecha Registro\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Id Servicio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: this.state.serviciosAgendados.filter(elemento => elemento.estado.nombre.toLowerCase().includes(this.state.searchTerm.toLowerCase())).map(e => /*#__PURE__*/_jsxDEV(\"tr\", {\n            value: e,\n            id: e.id,\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: e.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: e.estado.nombre\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: e.fechaElegida.substring(0, [10])\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: e.fechaRegistro.substring(0, [10])\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: e.servicio.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(ButtonGroup, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  className: \"button\",\n                  onClick: this.verTareas.bind(this, e.id),\n                  children: \"Ver tareas\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 21\n            }, this)]\n          }, e.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 19\n          }, this)) // this.state.serviciosAgendados.filter((elemento) => {\n          //   if (this.state.searchTerm === \"\") {\n          //     return elemento\n          //   } else if (elemento.estado.nombre.toLowerCase().includes(this.state.searchTerm.toLowerCase())) {\n          //     return elemento\n          //   }\n          // }).map(elemento => (\n          //   <tr key={elemento.id} value={elemento} id={elemento.id}>\n          //     <td>{elemento.id}</td>\n          //     <td>{elemento.estado.nombre}</td>\n          //     <td>{elemento.fechaElegida.substring(0, [10])}</td>\n          //     <td>{elemento.fechaRegistro.substring(0, [10])}</td>                 \n          //     <td>{elemento.servicio.id}</td>\n          //     <td>\n          //       <ButtonGroup>\n          //         <Button className=\"button\" onClick={this.verTareas.bind(this, elemento.id)}>Ver tareas</Button>\n          //       </ButtonGroup>\n          //     </td>\n          //   </tr>\n          // ))\n\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ReactBoostrap.Table, {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Id\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Tarea nombre\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Tarea descripcion\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Estado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [this.state.estaCliqueado === true ? this.state.tareas.map(e => /*#__PURE__*/_jsxDEV(\"tr\", {\n            value: e,\n            id: e.id,\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: e.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: e.tarea.nombre\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: e.tarea.descripcion\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: e.estado.nombre\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(ButtonGroup, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  className: \"button\",\n                  disabled: e.estado.nombre !== \"EN ESPERA DE COMIENZO\" && e.estado.nombre === \"FINALIZADO\" || e.estado.nombre === \"COMENZADA\",\n                  onClick: this.iniciarTarea.bind(this, e.id),\n                  children: \"Iniciar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(ButtonGroup, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  className: \"button\",\n                  disabled: e.estado.nombre !== \"COMENZADA\" && e.estado.nombre === \"EN ESPERA DE COMIENZO\" || e.estado.nombre === \"FINALIZADO\",\n                  onClick: this.finalizarTarea.bind(this, e.id),\n                  children: \"Finalizar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 19\n            }, this)]\n          }, e.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 17\n          }, this)) : null, /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"description\",\n            placeholder: \"Ingrese una descripci\\xF3n\",\n            onChange: this.onChangeDescription\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            className: \"secondary\",\n            onClick: this.finalizarAlServicio,\n            children: \"Finalizar Servicio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/emili/Desktop/proyecto car clean 01 09 2021/proyecto/src/components/Agenda/ListarAgenda.js"],"names":["React","Component","ReactBoostrap","axios","url","Button","ButtonGroup","ListarAgenda","constructor","onChangeDescription","e","console","log","target","value","setState","description","verTareas","serId","post","then","resp","data","tareas","estaCliqueado","idServicio","catch","error","iniciarAlServicio","state","status","componentDidMount","finalizarAlServicio","finalizarNotificacion","iniciarTarea","tarId","estaInciado","btnIniciar","btnFinalizar","iniciarNotificacion","finalizarTarea","localStorage","getItem","get","serviciosAgendados","id","usuario","mensaje","response","mensajeError","message","manejadorOnChange","searchTerm","date","Date","estaIniciado","notificacion","idCli","fechaVacia","bind","val","render","filter","elemento","estado","nombre","toLowerCase","includes","map","fechaElegida","substring","fechaRegistro","servicio","tarea","descripcion"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport * as ReactBoostrap from 'react-bootstrap';\r\nimport axios from 'axios'\r\nimport { url } from '../API.js';\r\nimport Button from 'react-bootstrap/Button'\r\nimport ButtonGroup from 'react-bootstrap/ButtonGroup'\r\n\r\n\r\n\r\nexport default class ListarAgenda extends Component {\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      serviciosAgendados: [],\r\n      log: \"\",\r\n      mensaje: \"\",\r\n      date: new Date(),\r\n      tareas: [],\r\n      estaCliqueado: false,\r\n      estaIniciado: false,\r\n      notificacion: {},\r\n      idServicio: \"\",\r\n      description: \"\",\r\n      idCli: 1,\r\n      searchTerm: \"\",\r\n      usuario: [],\r\n      fechaVacia: \"VACIA\",\r\n      btnIniciar: false,//verdadero esta deshabilitado y falso esta habilitado\r\n      btnFinalizar: true,\r\n    }\r\n    this.verTareas.bind();\r\n\r\n  }\r\n\r\n  onChangeDescription = e => {\r\n    console.log(e.target.value);\r\n    this.setState({\r\n      description: e.target.value,\r\n    })\r\n  }\r\n\r\n  verTareas = (serId) => {\r\n    console.log(serId);\r\n    axios.post(url + '/tareaAgendada/listasTareasServicio/?id=' + serId).then((resp) => {\r\n      console.log(resp.data);\r\n      this.setState({\r\n        tareas: resp.data,\r\n        estaCliqueado: true,\r\n        idServicio: serId,\r\n      });\r\n    }).catch((error) => {\r\n      console.log(error);\r\n    }\r\n    )\r\n  }\r\n  iniciarAlServicio = e => {\r\n    console.log(this.state.idServicio)\r\n    axios.post(url + '/servicioAgendado/iniciarServicioAgendado/?id=' + this.state.idServicio).then((resp) => {\r\n      console.log(resp.data);\r\n      if (resp.status === 200) {\r\n        this.componentDidMount();\r\n\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n    }\r\n    )\r\n  }\r\n  finalizarAlServicio = e => {\r\n    console.log(this.state.idServicio)\r\n    axios.post(url + '/servicioAgendado/finalizarServicioAgendado/?id=' + this.state.idServicio).then((resp) => {\r\n      console.log(resp.data);\r\n      if (resp.status === 200) {\r\n        this.componentDidMount();\r\n        this.verTareas(this.state.idServicio);\r\n        this.finalizarNotificacion();\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n    }\r\n    )\r\n  }\r\n  iniciarTarea = (tarId) => {\r\n    console.log(tarId);\r\n    axios.post(url + '/tareaAgendada/iniciarTarea/?id=' + tarId).then((resp) => {\r\n      console.log(resp);\r\n      if (resp.status === 200) {\r\n        this.setState({\r\n          estaInciado: true,  //boolean esta iniciado\r\n          btnIniciar: true,\r\n          btnFinalizar: false,\r\n        });\r\n        this.verTareas(this.state.idServicio);\r\n        this.iniciarAlServicio();\r\n        this.iniciarNotificacion();\r\n        //al iniciar la tarea cambiar el estado al servicio a que esta en proceso\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n\r\n    }\r\n    )\r\n  }\r\n  finalizarTarea = (tarId) => {\r\n    console.log(tarId);\r\n    axios.post(url + '/tareaAgendada/finalizarTarea/?id=' + tarId).then((resp) => {\r\n      console.log(resp.data);\r\n      this.setState({\r\n        estaInciado: false,\r\n        btnFinalizar: true,\r\n        //boolean esta finalizado\r\n        //y respuesta con la notificacion creada\r\n        //cambiar el estado en finalizado al servicioagendado\r\n      });\r\n      this.verTareas(this.state.idServicio);\r\n    }).catch((error) => {\r\n      console.log(error);\r\n    }\r\n    )\r\n  }\r\n  btnIniciar(id) {\r\n    const val = id;\r\n    //retornar un booleano\r\n    return val\r\n  }\r\n  btnFinalizar(id) {\r\n    const val = id;\r\n    //retornar un booleano\r\n    return val\r\n  }\r\n  iniciarNotificacion = () => {\r\n    console.log(localStorage.getItem('usuario'))\r\n    console.log(this.state.idServicio)\r\n    axios.post(url + '/notificacion/iniciarNotificacion/?idUsu=' + localStorage.getItem('usuario') + \"&idSerAge=\"\r\n      + this.state.idServicio).then((resp) => {\r\n        console.log(resp.data);\r\n        this.setState({\r\n\r\n        });\r\n      }).catch((error) => {\r\n        console.log(error);\r\n      }\r\n      )\r\n  }\r\n\r\n  finalizarNotificacion = () => {\r\n    axios.post(url + '/notificacion/finalizarNotificacion/?idUsu=' + localStorage.getItem('usuario') + \"&idSerAge=\"\r\n      + this.state.idServicio + \"&descripcion=\" + this.state.description).then((resp) => {\r\n        console.log(resp.data);\r\n        this.setState({\r\n\r\n        });\r\n      }).catch((error) => {\r\n        console.log(error);\r\n      }\r\n      )\r\n  }\r\n  componentDidMount = () => {\r\n    axios.get(url + '/servicioAgendado/listarActivos').then((resp) => {\r\n      console.log(resp.data);\r\n      this.setState({\r\n        serviciosAgendados: resp.data,\r\n      });\r\n    }).catch((error) => {\r\n      console.log(error);\r\n    }\r\n    )\r\n    console.log(localStorage.getItem(\"usuario\"))\r\n    let id = localStorage.getItem(\"usuario\")\r\n    axios.get(url + '/usuario/buscarPorId/?id='\r\n      + 10).then((resp) => {\r\n        this.setState({\r\n          usuario: resp.data,\r\n        });\r\n      }).catch((error) => {\r\n        this.setState({\r\n          mensaje: error.response,\r\n          mensajeError: \"error\"\r\n        });\r\n        console.log(error.response.data.message);\r\n      }\r\n      )\r\n\r\n  };\r\n\r\n  manejadorOnChange = e => {\r\n\r\n    this.setState({\r\n\r\n      searchTerm: e.target.value,\r\n\r\n    })\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1 >Lista Agenda</h1>\r\n        <input type=\"text\" placeholder=\"Buscar por estado nombre\" onChange={this.manejadorOnChange} />\r\n        <ReactBoostrap.Table className=\"table \" hover variant=\"light-dark\">\r\n          <thead>\r\n            <th scope=\"col\">Id</th >\r\n            <th scope=\"col\">Estado</th>\r\n            <th scope=\"col\">Fecha Elegida</th>\r\n            <th scope=\"col\">Fecha Registro</th>\r\n            <th scope=\"col\">Id Servicio</th>\r\n            {/*  <th scope=\"col\">Fecha Fin</th> */}\r\n          </thead>\r\n          <tbody>\r\n            {\r\n              this.state.serviciosAgendados.filter(elemento =>\r\n                elemento.estado.nombre.toLowerCase().includes(this.state.searchTerm.toLowerCase()))\r\n                .map(e => (\r\n                  <tr key={e.id} value={e} id={e.id}>\r\n                    <td>{e.id}</td>\r\n                    <td>{e.estado.nombre}</td>\r\n                    <td>{e.fechaElegida.substring(0, [10])}</td>\r\n                    <td>{e.fechaRegistro.substring(0, [10])}</td>\r\n                    <td>{e.servicio.id}</td>\r\n                    <td>\r\n\r\n                      <ButtonGroup>\r\n                        <Button className=\"button\" onClick={this.verTareas.bind(this, e.id)}>Ver tareas</Button>\r\n                      </ButtonGroup>\r\n                    </td>\r\n                  </tr>\r\n                )\r\n                )\r\n\r\n\r\n              // this.state.serviciosAgendados.filter((elemento) => {\r\n\r\n              //   if (this.state.searchTerm === \"\") {\r\n\r\n              //     return elemento\r\n\r\n              //   } else if (elemento.estado.nombre.toLowerCase().includes(this.state.searchTerm.toLowerCase())) {\r\n\r\n              //     return elemento\r\n\r\n              //   }\r\n\r\n              // }).map(elemento => (\r\n              //   <tr key={elemento.id} value={elemento} id={elemento.id}>\r\n              //     <td>{elemento.id}</td>\r\n              //     <td>{elemento.estado.nombre}</td>\r\n              //     <td>{elemento.fechaElegida.substring(0, [10])}</td>\r\n              //     <td>{elemento.fechaRegistro.substring(0, [10])}</td>                 \r\n              //     <td>{elemento.servicio.id}</td>\r\n              //     <td>\r\n              //       <ButtonGroup>\r\n              //         <Button className=\"button\" onClick={this.verTareas.bind(this, elemento.id)}>Ver tareas</Button>\r\n              //       </ButtonGroup>\r\n              //     </td>\r\n              //   </tr>\r\n\r\n              // ))\r\n            }\r\n\r\n          </tbody>\r\n        </ReactBoostrap.Table>\r\n        <ReactBoostrap.Table>\r\n          <thead>\r\n            <th scope=\"col\">Id</th >\r\n            <th scope=\"col\">Tarea nombre</th>\r\n            <th scope=\"col\">Tarea descripcion</th>\r\n            <th scope=\"col\">Estado</th>\r\n          </thead>\r\n          <tbody>\r\n            {this.state.estaCliqueado === true ?\r\n              this.state.tareas.map(e => (\r\n                <tr key={e.id} value={e} id={e.id}>\r\n                  <td>{e.id}</td>\r\n                  <td>{e.tarea.nombre}</td>\r\n                  <td>{e.tarea.descripcion}</td>\r\n                  <td>{e.estado.nombre}</td>\r\n                  {/* <td>{e.fechaInicio !== null ? e.fechaInicio.substring(0, [10]) : this.state.fechaVacia}</td>\r\n                  <td>{e.fechaFin !== null ? e.fechaFin.substring(0, [10]) : this.state.fechaVacia}</td> */}\r\n                  <td>\r\n                    {/* {this.state.btnIniciar===false&&this.btnIniciar(e.id)===e.id? */}\r\n                    <ButtonGroup>\r\n                      <Button className=\"button\"\r\n                        disabled={(e.estado.nombre !== (\"EN ESPERA DE COMIENZO\")\r\n                          && e.estado.nombre === (\"FINALIZADO\")) || (e.estado.nombre === (\"COMENZADA\"))}\r\n                        onClick={this.iniciarTarea.bind(this, e.id)}>Iniciar</Button>\r\n                    </ButtonGroup>\r\n                    {/* :null} */}\r\n                  </td>\r\n                  <td>\r\n                    <ButtonGroup>\r\n                      <Button className=\"button\"\r\n                        disabled={((e.estado.nombre !== (\"COMENZADA\")\r\n                          && e.estado.nombre === (\"EN ESPERA DE COMIENZO\"))\r\n                          || (e.estado.nombre === (\"FINALIZADO\")))}\r\n                        onClick={this.finalizarTarea.bind(this, e.id)}>Finalizar</Button>\r\n                    </ButtonGroup>\r\n                  </td>\r\n                </tr>\r\n              )) : null\r\n            }\r\n            <input type=\"text\" name=\"description\"\r\n              placeholder=\"Ingrese una descripciÃ³n\" onChange={this.onChangeDescription} />\r\n            {/* <ButtonGroup> */}\r\n            <Button className=\"secondary\" onClick={this.finalizarAlServicio}>Finalizar Servicio</Button>\r\n            {/* </ButtonGroup> */}\r\n\r\n\r\n          </tbody>\r\n        </ReactBoostrap.Table>\r\n      </div>\r\n    );\r\n\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}