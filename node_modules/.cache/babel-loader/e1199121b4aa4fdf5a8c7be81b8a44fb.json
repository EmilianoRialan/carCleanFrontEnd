{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\emili\\\\Desktop\\\\proyecto car clean 01 09 2021\\\\proyecto\\\\src\\\\components\\\\Agenda\\\\BorrarAgendaServicio.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport * as ReactBoostrap from 'react-bootstrap';\nimport Button from 'react-bootstrap/Button';\nimport { url } from '../API.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class BorrarAgendaServicio extends Component {\n  constructor() {\n    super();\n\n    this.componentDidMount = () => {\n      axios.get(url + '/servicioAgendado/listarActivos').then(resp => {\n        console.log(resp.data);\n        this.setState({\n          serviciosAgendados: resp.data\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.borrarBoton = id => {\n      this.setState({\n        servicioBorrado: id\n      });\n      axios.post(url + '/servicioAgendado/borrar?id=' + id).then(response => {\n        if (response.status >= 200 && response.status <= 205) {\n          this.setState({\n            mensaje: response.data,\n            mensajeSuccess: \"ok\"\n          });\n          this.limpiar();\n        }\n      }).catch(error => {\n        this.setState({\n          mensaje: error.response.data,\n          mensajeError: \"error\"\n        });\n        this.limpiar();\n        console.log(error.response);\n        console.log(error.response.data);\n      });\n    };\n\n    this.state = {\n      agenda: [],\n      agendaBorrado: {},\n      agendaBorradoId: 0,\n      serviciosAgendados: [],\n      servicioBorrado: \"\"\n    };\n  }\n\n  limpiar() {\n    this.timer = setInterval(() => {\n      window.location.reload(1);\n    }, 2000);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Lista Agenda\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ReactBoostrap.Table, {\n        className: \"table \",\n        hover: true,\n        variant: \"light-dark\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Id\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Estado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Fecha Elegida\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Fecha Registro\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Id Servicio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Accion\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: this.state.serviciosAgendados.map(elemento => /*#__PURE__*/_jsxDEV(\"tr\", {\n            value: elemento,\n            id: elemento.id,\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: elemento.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: elemento.estado.nombre\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: elemento.fechaElegida.substring(0, [10])\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: elemento.fechaRegistro.substring(0, [10])\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: elemento.servicio.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                className: \"btn btn-secondary\",\n                onClick: () => this.borrarBoton(elemento.id),\n                children: \"Cancelar Servicio\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 19\n            }, this)]\n          }, elemento.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), this.state.mensajeSuccess === \"ok\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"alert alert-success\",\n        role: \"alert\",\n        children: this.state.mensaje\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 15\n      }, this) : this.state.mensajeError === \"error\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"alert alert-danger\",\n        role: \"alert\",\n        children: this.state.mensaje\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/emili/Desktop/proyecto car clean 01 09 2021/proyecto/src/components/Agenda/BorrarAgendaServicio.js"],"names":["React","Component","axios","ReactBoostrap","Button","url","BorrarAgendaServicio","constructor","componentDidMount","get","then","resp","console","log","data","setState","serviciosAgendados","catch","error","borrarBoton","id","servicioBorrado","post","response","status","mensaje","mensajeSuccess","limpiar","mensajeError","state","agenda","agendaBorrado","agendaBorradoId","timer","setInterval","window","location","reload","render","map","elemento","estado","nombre","fechaElegida","substring","fechaRegistro","servicio"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport * as ReactBoostrap from 'react-bootstrap';\r\nimport Button from 'react-bootstrap/Button'\r\nimport { url } from '../API.js';\r\n\r\nexport default class BorrarAgendaServicio extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      agenda: [],\r\n      agendaBorrado: {},\r\n      agendaBorradoId: 0,\r\n      serviciosAgendados: [],\r\n      servicioBorrado:\"\",\r\n    }\r\n  }\r\n  componentDidMount = () => {\r\n    axios.get(url + '/servicioAgendado/listarActivos').then((resp) => {\r\n      console.log(resp.data);\r\n      this.setState({\r\n        serviciosAgendados: resp.data,\r\n      });\r\n    }).catch((error) => {\r\n      console.log(error);\r\n    }\r\n    )\r\n  };\r\n\r\n\r\n  borrarBoton = (id) => {\r\n    this.setState({\r\n      servicioBorrado: id\r\n    })\r\n    axios.post(url + '/servicioAgendado/borrar?id=' + id)\r\n      .then(response => {\r\n        if (response.status >= 200 && response.status <= 205) {\r\n          this.setState({\r\n            mensaje: response.data,\r\n            mensajeSuccess: \"ok\",                            \r\n        });\r\n        this.limpiar();  \r\n        }\r\n\r\n      }).catch(error => {\r\n        this.setState({\r\n          mensaje: error.response.data,\r\n          mensajeError: \"error\"\r\n      }); this.limpiar();\r\n      console.log(error.response)\r\n      console.log(error.response.data)\r\n      })     \r\n  }\r\n  \r\n  limpiar() {\r\n    this.timer = setInterval(() => {\r\n        window.location.reload(1);\r\n    }\r\n        , 2000);\r\n}\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div>\r\n        <h1>Lista Agenda</h1>\r\n        <ReactBoostrap.Table className=\"table \" hover variant=\"light-dark\">\r\n          <thead>\r\n            <th scope=\"col\">Id</th >\r\n            <th scope=\"col\">Estado</th>\r\n            <th scope=\"col\">Fecha Elegida</th>\r\n            <th scope=\"col\">Fecha Registro</th>\r\n            <th scope=\"col\">Id Servicio</th>\r\n            <th scope=\"col\">Accion</th>\r\n          </thead>\r\n          <tbody>\r\n            {\r\n              this.state.serviciosAgendados.map(elemento => (\r\n                <tr key={elemento.id} value={elemento} id={elemento.id}>\r\n                  <td>{elemento.id}</td>\r\n                  <td>{elemento.estado.nombre}</td>\r\n                  <td>{elemento.fechaElegida.substring(0, [10])}</td>\r\n                  <td>{elemento.fechaRegistro.substring(0, [10])}</td>\r\n                  <td>{elemento.servicio.id}</td>\r\n                  <td>\r\n                    <Button className=\"btn btn-secondary\" onClick={() => this.borrarBoton(elemento.id)}>Cancelar Servicio</Button>\r\n                  </td>\r\n                </tr>\r\n\r\n              ))\r\n            }\r\n          </tbody>\r\n        </ReactBoostrap.Table>\r\n        {this.state.mensajeSuccess === \"ok\" ?\r\n              <div class=\"alert alert-success\" role=\"alert\">\r\n                {this.state.mensaje}\r\n              </div> : (this.state.mensajeError === \"error\") ?\r\n                <div class=\"alert alert-danger\" role=\"alert\">\r\n                  {this.state.mensaje}\r\n                </div> : null\r\n            }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}